import{_ as i}from"./sas_runes_cli_2-CnvSGWu4.js";import{_ as t,r as o,o as r,c as l,a as n,d as e,b as a,e as c}from"./app--8HtvIAA.js";const d={},p=c('<p><img src="'+i+`" alt="runes_cli"></p><h1 id="developer-guide" tabindex="-1"><a class="header-anchor" href="#developer-guide" aria-hidden="true">#</a> Developer Guide</h1><h2 id="development-setup" tabindex="-1"><a class="header-anchor" href="#development-setup" aria-hidden="true">#</a> Development Setup</h2><h3 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h3><ul><li><strong>Node.js 18+</strong> - Required for TypeScript development</li><li><strong>macOS 10.15+</strong> - macOS only (Apple Silicon &amp; Intel)</li><li><strong>Git</strong> - For version control</li></ul><h3 id="getting-started" tabindex="-1"><a class="header-anchor" href="#getting-started" aria-hidden="true">#</a> Getting Started</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Clone the repository</span>
<span class="token function">git</span> clone https://github.com/shiehn/signals-and-sorcery.git
<span class="token builtin class-name">cd</span> signals-and-sorcery

<span class="token comment"># Install dependencies</span>
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># Run in development mode</span>
<span class="token function">npm</span> run start         <span class="token comment"># Standard development mode</span>
<span class="token function">npm</span> run dev:safe      <span class="token comment"># Safe mode with crash protection</span>
<span class="token function">npm</span> run dev:smart     <span class="token comment"># Auto-restarts on crashes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="architecture-overview" tabindex="-1"><a class="header-anchor" href="#architecture-overview" aria-hidden="true">#</a> Architecture Overview</h2><h3 id="project-structure" tabindex="-1"><a class="header-anchor" href="#project-structure" aria-hidden="true">#</a> Project Structure</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>signals-and-sorcery/
├── src/
│   ├── main/              # Electron main process
│   │   ├── index.ts       # App entry point
│   │   ├── services/      # Core services
│   │   └── setup-handlers.ts  # IPC handlers
│   ├── renderer/          # React UI
│   │   ├── App.tsx        # Main component
│   │   ├── pages/         # UI pages
│   │   └── components/    # React components
│   ├── audio-engine/      # Tracktion Engine TypeScript API
│   │   └── tracktion-engine.ts  # JSON-RPC client
│   ├── mcp-server/        # TypeScript MCP
│   │   ├── index.ts       # Server entry
│   │   └── dsl/tools/     # DSL tool definitions
│   └── music-engine/      # Composition engine
│       ├── services/      # Project binding, transitions
│       └── harmonic-rules-engine.ts
├── sas-audio-engine/      # Native C++ audio engine
│   ├── src/
│   │   ├── main.cpp       # Entry point
│   │   ├── Deck.cpp       # Deck management
│   │   ├── DeckManager.cpp # Multi-deck coordination
│   │   └── SceneManager.cpp # Scene management
│   └── CMakeLists.txt
├── scripts/              # Build &amp; test scripts
└── docs/                 # Documentation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="key-technologies" tabindex="-1"><a class="header-anchor" href="#key-technologies" aria-hidden="true">#</a> Key Technologies</h3><ul><li><strong>Electron</strong> - Desktop application framework</li><li><strong>React 19</strong> - UI framework</li><li><strong>TypeScript</strong> - Type-safe JavaScript</li><li><strong>Tracktion Engine</strong> - Native C++ audio engine</li><li><strong>MCP</strong> - Model Context Protocol for LLM tools</li><li><strong>Tailwind CSS</strong> - Utility-first CSS</li><li><strong>Zod</strong> - Runtime type validation</li></ul><h2 id="audio-engine-architecture" tabindex="-1"><a class="header-anchor" href="#audio-engine-architecture" aria-hidden="true">#</a> Audio Engine Architecture</h2><p>The audio engine is a native C++ process built on Tracktion Engine, communicating via JSON-RPC over TCP (port 9998).</p><h3 id="key-concepts" tabindex="-1"><a class="header-anchor" href="#key-concepts" aria-hidden="true">#</a> Key Concepts</h3><ul><li><strong>Decks</strong>: FolderTracks that act as mix buses (Loop-A, Loop-B, Transition)</li><li><strong>Scenes</strong>: FolderTracks that group audio tracks together</li><li><strong>Tracks</strong>: AudioTracks containing clips and plugins</li></ul><p>See <code>sas-audio-engine/README.md</code> for detailed architecture documentation.</p><h2 id="adding-new-dsl-tools" tabindex="-1"><a class="header-anchor" href="#adding-new-dsl-tools" aria-hidden="true">#</a> Adding New DSL Tools</h2><h3 id="tool-structure" tabindex="-1"><a class="header-anchor" href="#tool-structure" aria-hidden="true">#</a> Tool Structure</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// src/mcp-server/dsl/tools/tracks.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> createTrackTool <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;dsl_create_track&quot;</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">&quot;Create a new track&quot;</span><span class="token punctuation">,</span>
  parameters<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Track name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">enum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;audio&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;midi&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token string">&#39;audio&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    index<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;Insert position&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> engine <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getSharedTracktionEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">await</span> engine<span class="token punctuation">.</span><span class="token function">createTrack</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tool-categories" tabindex="-1"><a class="header-anchor" href="#tool-categories" aria-hidden="true">#</a> Tool Categories</h3><p>Tools are organized by function:</p><ul><li><code>tracks.ts</code> - Track operations (create, delete, rename)</li><li><code>effects.ts</code> - FX and processing</li><li><code>transport.ts</code> - Playback control</li><li><code>scene-operations.ts</code> - Scene management</li><li><code>deck-operations.ts</code> - Deck control</li><li><code>generation.ts</code> - Content generation</li></ul><h2 id="testing" tabindex="-1"><a class="header-anchor" href="#testing" aria-hidden="true">#</a> Testing</h2><h3 id="unit-tests" tabindex="-1"><a class="header-anchor" href="#unit-tests" aria-hidden="true">#</a> Unit Tests</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Run all tests</span>
<span class="token function">npm</span> <span class="token builtin class-name">test</span>

<span class="token comment"># Test specific module</span>
<span class="token function">npm</span> <span class="token builtin class-name">test</span> -- src/audio-engine

<span class="token comment"># Test with coverage</span>
<span class="token function">npm</span> <span class="token builtin class-name">test</span> -- <span class="token parameter variable">--coverage</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="integration-tests" tabindex="-1"><a class="header-anchor" href="#integration-tests" aria-hidden="true">#</a> Integration Tests</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Test with real audio engine</span>
<span class="token function">npm</span> run test:engine

<span class="token comment"># Run C++ engine tests</span>
<span class="token function">npm</span> run test:engine:cpp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="e2e-tests" tabindex="-1"><a class="header-anchor" href="#e2e-tests" aria-hidden="true">#</a> E2E Tests</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Run Playwright tests</span>
<span class="token function">npm</span> run test:e2e

<span class="token comment"># Test with UI</span>
<span class="token function">npm</span> run test:e2e:headed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debugging" tabindex="-1"><a class="header-anchor" href="#debugging" aria-hidden="true">#</a> Debugging</h2><h3 id="enable-debug-logging" tabindex="-1"><a class="header-anchor" href="#enable-debug-logging" aria-hidden="true">#</a> Enable Debug Logging</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># In .env file</span>
<span class="token assign-left variable">VITE_LOG_LEVEL</span><span class="token operator">=</span>debug

<span class="token comment"># Or via environment</span>
<span class="token assign-left variable">DEBUG</span><span class="token operator">=</span>* <span class="token function">npm</span> run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chrome-devtools" tabindex="-1"><a class="header-anchor" href="#chrome-devtools" aria-hidden="true">#</a> Chrome DevTools</h3><ol><li>Open the app</li><li>Press <code>Cmd+Option+I</code> (Mac)</li><li>Use Console, Network, and Sources tabs</li></ol><h3 id="audio-engine-debugging" tabindex="-1"><a class="header-anchor" href="#audio-engine-debugging" aria-hidden="true">#</a> Audio Engine Debugging</h3><p>Check the main process logs:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">ENABLE_TEST_SERVER</span><span class="token operator">=</span>true <span class="token function">npm</span> run electron:dev <span class="token operator">&gt;</span> output.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">grep</span> <span class="token string">&quot;DeckManager\\|SceneManager&quot;</span> output.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="building-distribution" tabindex="-1"><a class="header-anchor" href="#building-distribution" aria-hidden="true">#</a> Building &amp; Distribution</h2><h3 id="build-commands" tabindex="-1"><a class="header-anchor" href="#build-commands" aria-hidden="true">#</a> Build Commands</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Build TypeScript</span>
<span class="token function">npm</span> run build

<span class="token comment"># Build for current platform</span>
<span class="token function">npm</span> run dist

<span class="token comment"># Build DMG for macOS</span>
<span class="token function">npm</span> run dist:mac:dmg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="release-process" tabindex="-1"><a class="header-anchor" href="#release-process" aria-hidden="true">#</a> Release Process</h3><p>The release script handles everything:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># Full release (tests, build, upload, deploy docs)</span>
<span class="token function">npm</span> run release

<span class="token comment"># Release with version type</span>
<span class="token function">npm</span> run release:minor  <span class="token comment"># 0.12.0 → 0.13.0</span>
<span class="token function">npm</span> run release:patch  <span class="token comment"># 0.12.0 → 0.12.1</span>
<span class="token function">npm</span> run release:major  <span class="token comment"># 0.12.0 → 1.0.0</span>

<span class="token comment"># Build only (no upload)</span>
<span class="token function">npm</span> run release:build-only
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The release script:</p><ol><li>Runs all tests</li><li>Bumps version in package.json</li><li>Builds DMGs (arm64 + x64)</li><li>Uploads to GCP storage</li><li>Updates downloads.json</li><li>Deploys documentation</li><li>Creates git tag</li><li>Creates GitHub release</li></ol><h2 id="contributing" tabindex="-1"><a class="header-anchor" href="#contributing" aria-hidden="true">#</a> Contributing</h2><h3 id="code-style" tabindex="-1"><a class="header-anchor" href="#code-style" aria-hidden="true">#</a> Code Style</h3><ul><li>Use TypeScript for type safety</li><li>Follow ESLint rules</li><li>Write tests for new features</li></ul><h3 id="commit-messages" tabindex="-1"><a class="header-anchor" href="#commit-messages" aria-hidden="true">#</a> Commit Messages</h3><p>Follow conventional commits:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>feat: add new deck operation
fix: resolve audio routing issue
docs: update developer guide
test: add unit tests for scene manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pull-request-process" tabindex="-1"><a class="header-anchor" href="#pull-request-process" aria-hidden="true">#</a> Pull Request Process</h3><ol><li>Fork the repository</li><li>Create feature branch</li><li>Make changes with tests</li><li>Update documentation</li><li>Submit PR with description</li></ol><h2 id="resources" tabindex="-1"><a class="header-anchor" href="#resources" aria-hidden="true">#</a> Resources</h2><h3 id="documentation" tabindex="-1"><a class="header-anchor" href="#documentation" aria-hidden="true">#</a> Documentation</h3>`,56),u={href:"https://github.com/shiehn/signals-and-sorcery",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/shiehn/signals-and-sorcery/blob/main/sas-audio-engine/README.md",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/shiehn/signals-and-sorcery/blob/main/TOOL_ARCHITECTURE.md",target:"_blank",rel:"noopener noreferrer"},v=n("h3",{id:"support",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#support","aria-hidden":"true"},"#"),e(" Support")],-1),g={href:"https://github.com/shiehn/signals-and-sorcery/issues",target:"_blank",rel:"noopener noreferrer"},b={href:"https://discord.gg/signals-and-sorcery",target:"_blank",rel:"noopener noreferrer"},k=n("li",null,"Email: stevehiehn@gmail.com",-1),f=n("h3",{id:"related-projects",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#related-projects","aria-hidden":"true"},"#"),e(" Related Projects")],-1),x={href:"https://github.com/anthropics/mcp",target:"_blank",rel:"noopener noreferrer"},_={href:"https://github.com/Tracktion/tracktion_engine",target:"_blank",rel:"noopener noreferrer"},y={href:"https://www.electronjs.org/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://react.dev/",target:"_blank",rel:"noopener noreferrer"};function S(C,E){const s=o("ExternalLinkIcon");return r(),l("div",null,[p,n("ul",null,[n("li",null,[n("a",u,[e("Main README"),a(s)])]),n("li",null,[n("a",m,[e("Audio Engine Architecture"),a(s)])]),n("li",null,[n("a",h,[e("Tool Architecture"),a(s)])])]),v,n("ul",null,[n("li",null,[n("a",g,[e("GitHub Issues"),a(s)])]),n("li",null,[n("a",b,[e("Discord Community"),a(s)])]),k]),f,n("ul",null,[n("li",null,[n("a",x,[e("Model Context Protocol"),a(s)])]),n("li",null,[n("a",_,[e("Tracktion Engine"),a(s)])]),n("li",null,[n("a",y,[e("Electron"),a(s)])]),n("li",null,[n("a",T,[e("React"),a(s)])])])])}const R=t(d,[["render",S],["__file","index.html.vue"]]);export{R as default};
